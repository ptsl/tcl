#!/usr/bin/tclsh

package require tcltest
namespace import ::tcltest::*

#
# Test cases:
#
#   text splitlines aaa\nbbb\nccc\n -> {aaa bbb ccc} (removed {})
#   text splitlines aaa\nbbb\nccc   -> {aaa bbb ccc}
#   text splitlines aaa\nbbb\n      -> {aaa bbb}     (removed {})
#   text splitlines aaa\nbbb        -> {aaa bbb}
#   text splitlines aaa\n           -> {aaa}         (removed {})
#   text splitlines aaa             -> {aaa}
#   text splitlines \n\n\n          -> {{} {} {}}    (removed {})
#   text splitlines \n\n            -> {{} {}}       (removed {})
#   text splitlines \n              -> {{}}          (removed {})
#   text splitlines {}              -> {}
#

test splitlines-1.1 {three complete lines} {
    text splitlines aaa\nbbb\nccc\n
} {aaa bbb ccc}

test splitlines-1.2 {two complete lines} {
    text splitlines aaa\nbbb\n
} {aaa bbb}

test splitlines-1.3 {one complete line} {
    text splitlines aaa\n
} {aaa}

test splitlines-2.1 {two complete lines, one incomplete} {
    text splitlines aaa\nbbb\nccc
} {aaa bbb ccc}

test splitlines-2.2 {one complete line, one incomplete} {
    text splitlines aaa\nbbb
} {aaa bbb}

test splitlines-2.3 {one icomplete line} {
    text splitlines aaa
} {aaa}

test splitlines-3.1 {three empty lines} {
    text splitlines \n\n\n
} {{} {} {}}

test splitlines-3.2 {two empty lines} {
    text splitlines \n\n
} {{} {}}

test splitlines-3.3 {one empty line} {
    text splitlines \n
} {{}}

test splitlines-4.1 {empty string} {
    text splitlines {}
} {}


test startswith-1.1 {shorter prefix, eight letters} {
    text startswith abcdefgh abcd
} 1

test startswith-1.2 {shorter prefix, two letters} {
    text startswith ab a
} 1

test startswith-1.3 {empty prefix} {
    text startswith a {}
} 1

test startswith-2.1 {non-matching shorter prefix, eight letters} {
    text startswith abcdefgh ijkl
} 0

test startswith-2.2 {non-matching shorter prefix, two letters} {
    text startswith ab c
} 0

test startswith-3.1 {longer prefix, eight letters} {
    text startswith abcd abcdefgh
} 0

test startswith-3.2 {longer prefix, two letters} {
    text startswith a ab
} 0

test startswith-3.3 {longer prefix, empty text} {
    text startswith {} a
} 0

test startswith-4.1 {equal strings, eight letters} {
    text startswith abcdefgh abcdefgh
} 1

test startswith-4.2 {equal strings, two letters} {
    text startswith ab ab
} 1

test startswith-4.3 {equal strings, one letter} {
    text startswith a a
} 1

test startswith-4.4 {two empty strings} {
    text startswith {} {}
} 1

test startswith-5.1 {different strings of the same length, eight letters} {
    text startswith abcdefgh ijklmnop
} 0

test startswith-5.2 {different strings of the same length, two letters} {
    text startswith ab cd
} 0

test startswith-5.3 {different strings of the same length, one letter} {
    text startswith a b
} 0

cleanupTests

# vim: ft=tcl
